{
  "permissions": {
    "allow": [
      "Bash(php -S localhost:8000)",
      "Bash(php run_migration_v17.php)",
      "Bash(php -l \"C:\\Users\\TANI\\app\\kobetu\\staff\\chat.php\")",
      "Bash(git add .)",
      "Bash(git commit -m \"$(cat <<''EOF''\nAdd chat system with file attachments, absence notifications, and event registration features\n\nMajor features:\n- Implement real-time chat between guardians and staff with 3MB file attachments\n- Add absence notification system with date selection and reasons\n- Add event registration system with event selection and notes\n- Update staff attendance list to show absence notifications and event participants\n- Add guardian confirmation system for support plans and monitoring records\n- Enhance guardian dashboard with consolidated menu and calendar improvements\n- Add classroom and admin account management features\n\nChat System:\n- Create chat_rooms and chat_messages tables (migration v20, v21)\n- Implement guardian and staff chat interfaces with real-time polling\n- Add file upload with 3MB limit and 1-month retention policy\n- Create download endpoints for both guardian and staff\n- Add cleanup script for old chat attachments\n\nAbsence & Event Features:\n- Create absence_notifications table (migration v22)\n- Create events and event_registrations tables (migration v23)\n- Add dropdown message type selector (normal, absence, event)\n- Implement compact message format with slash separators\n- Add special styling for absence (pink) and event (blue) messages\n- Display event participants in staff attendance list\n\nUI Improvements:\n- Change guardian navigation from buttons to dropdown menu\n- Add calendar color coding for past/future and confirmed/unconfirmed notes\n- Make calendar entries clickable to open note modal\n- Improve message bubble width to 85% for better readability\n- Add white-space: nowrap for absence and event messages\n\nDatabase Migrations:\n- v19: Add guardian_confirmed columns to plans and monitoring\n- v20: Create chat system tables\n- v21: Add attachment columns to chat_messages\n- v22: Create absence_notifications table\n- v23: Create events and event_registrations tables\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nUpdate Claude Code settings to include git commit command in allow list\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  }
}
